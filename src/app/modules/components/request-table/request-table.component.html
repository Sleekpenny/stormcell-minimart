<div class="flex justify-between items-center mb-4">
  <div class="border border-neutral-300 rounded-xl md:w-3/6 w-full flex items-center gap-4 px-4">
    <svg xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="w-6 h-6 text-neutral-300">
      <circle cx="11" cy="11" r="8"></circle>
      <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
    <input type="text" placeholder="Search transactions" class="w-full py-2 focus:outline-none focus:ring-0 focus:ring-transparent focus:border-transparent" />
  </div> 

  <div class="flex gap-4 items-center">
    <div class="border p-4 rounded-xl dark:text-neutral-900">
      <select>
          <option value="">All Status</option>
      </select>
  </div>
    <div class="border p-4 rounded-xl dark:text-neutral-900">
      <select>
          <option value="">All Types</option>
      </select>
  </div>
  </div>
</div>
<div class="rounded-lg overflow-hidden border border-gray-200 ">
  <table class="w-full overflow-scroll">
    <thead class="bg-gray-50">
      <tr class="border-b ">
        @if (showCheckbox) {
          <th class="py-3 px-4 w-12">
            <input type="checkbox" class="w-4 h-4 rounded border-gray-300 dark:border-neutral-700">
          </th>
        }
        @for (h of headers; track h.key) {
          <th [class]="'py-3 px-4 text-lg font-semibold text-gray-800 text-' + h.align">
            {{ h.label }}
          </th>
        }
        @if (showActions) {
          <th class="py-3 px-4 text-lg font-semibold text-gray-800 text-center w-20">
            Action
          </th>
        }
      </tr>
    </thead>
    <tbody class="bg-white ">
      @for (row of data; track row.id) {
        <tr class="border-b  hover:bg-gray-100 transition-colors cursor-pointer"
            (click)="onRowClick(row)">
          @if (showCheckbox) {
            <td class="py-4 px-4" (click)="$event.stopPropagation()">
              <input type="checkbox" class="w-4 h-4 rounded border-gray-300 dark:border-neutral-700">
            </td>
          }
          @for (h of headers; track h.key) {
            <td [class]="'py-4 px-4 text-lg text-gray-800 text-' + h.align">
              @if (h.type === 'status') {
                <span [class]="getStatusClass(row[h.key])" 
                      class="inline-block px-3 py-1 text-xs font-medium rounded-full">
                  {{ row[h.key] }}
                </span>
              } @else if (h.type === 'toggle') {
                <div (click)="$event.stopPropagation()" class="flex justify-center">
                  <button 
                    (click)="onToggle(row)"
                    [class]="row[h.key] ? 'bg-green-600' : 'bg-gray-300'"
                    class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                    <span 
                      [class]="row[h.key] ? 'translate-x-6' : 'translate-x-1'"
                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform">
                    </span>
                  </button>
                </div>
              } @else {
                {{ row[h.key] }}
              }
            </td>
          }
          @if (showActions) {
            <td class="py-4 px-4 text-center" (click)="$event.stopPropagation()">
              <button (click)="onActionClick(row)" 
                      class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
              </button>
            </td>
          }
        </tr>
      }
    </tbody>
  </table>
</div>